<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Modern Card Slider UI</title>
  <style>
    :root{
      --bg: #0f1724;
      --card-bg: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      --accent: #ff6b35;
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.04);
      --radius: 16px;
      --shadow-1: 0 6px 18px rgba(2,6,23,0.6);
      --shadow-2: 0 10px 30px rgba(2,6,23,0.7);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071021 0%, #0b1220 60%);color:#e6eef8}

    .wrap{max-width:1100px;margin:48px auto;padding:24px}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:20px;margin:0}
    p.lead{color:var(--muted);margin:4px 0 0;font-size:13px}

    /* Slider frame */
    .slider{
      position:relative;
      width:100%;
      height:420px;
      border-radius:calc(var(--radius) + 4px);
      background:radial-gradient(1200px 300px at 10% 10%, rgba(255,107,53,0.06), transparent 8%), var(--card-bg);
      box-shadow:var(--shadow-1);
      overflow:hidden;
      padding:22px;
      display:flex;align-items:center;justify-content:center;
    }

    .track{
      display:flex;
      gap:18px;
      transition:transform .6s cubic-bezier(.22,.9,.35,1);
      will-change:transform;
      padding:12px;
    }

    .card{
      min-width:320px;
      max-width:340px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      overflow:hidden;
      box-shadow:var(--shadow-2);
      border:1px solid rgba(255,255,255,0.03);
      transform-origin:center center;
      transition:transform .45s ease, opacity .45s ease;
      display:flex;flex-direction:column;
    }

    .card img{width:100%;height:190px;object-fit:cover;display:block}

    .card-content{padding:14px 16px 18px;display:flex;flex-direction:column;gap:8px}
    .cat{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
    .title{font-weight:600;font-size:16px;margin:0}
    .desc{font-size:13px;color:var(--muted);line-height:1.35}

    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .btn{background:linear-gradient(90deg,var(--accent),#ff8a61);border:none;padding:8px 12px;border-radius:10px;color:white;font-weight:600;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 10px;border-radius:8px;color:var(--muted);font-weight:600;cursor:pointer}

    /* center card larger */
    .card.center{transform:scale(1.03);opacity:1}
    .card:not(.center){opacity:.9;filter:grayscale(.03)}

    /* Controls */
    .controls{position:absolute;left:12px;right:12px;top:50%;transform:translateY(-50%);display:flex;justify-content:space-between;pointer-events:none}
    .controls button{pointer-events:auto;background:rgba(0,0,0,0.4);border-radius:999px;border:0;padding:10px;backdrop-filter:blur(6px);color:white}
    .controls button svg{display:block}

    /* Dots */
    .dots{position:absolute;left:50%;transform:translateX(-50%);bottom:14px;display:flex;gap:8px}
    .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.08);display:inline-block;cursor:pointer;transition:transform .25s ease, background .25s ease}
    .dot.active{transform:scale(1.5);background:var(--accent);box-shadow:0 6px 18px rgba(255,107,53,0.22)}

    /* Responsive */
    @media (max-width:920px){
      .slider{height:360px}
      .card{min-width:290px}
    }
    @media (max-width:660px){
      .wrap{padding:12px}
      .slider{height:380px;padding:14px}
      .card{min-width:260px;max-width:260px}
    }

    /* subtle hover effects */
    .card:hover{transform:translateY(-6px) scale(1.02)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Resep Pilihan</h1>
        <p class="lead">Slider card modern â€” desain bersih, responsif, dan mudah disesuaikan.</p>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="ghost" id="pauseBtn" aria-pressed="false">Pause</button>
        <button class="ghost" id="randomBtn">Random</button>
      </div>
    </header>

    <section class="slider" aria-label="Resep Slider">
      <div class="controls">
        <button id="prevBtn" aria-label="Sebelumnya">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <button id="nextBtn" aria-label="Selanjutnya">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
        </button>
      </div>

      <div id="track" class="track" role="list">
        <!-- cards injected by JS -->
      </div>

      <div class="dots" id="dots" role="tablist" aria-label="Slide indicators"></div>
    </section>
  </div>

  <script>
    // Sample data (replace dengan fetch ke data_deskripsi.json kalau perlu)
    const cards = [
      {judul: 'Opor Ayam Khas Ramadhan', kategori: 'Ayam', image: 'https://images.unsplash.com/photo-1604908177522-9d29bde8a3d5?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=0d8c5f0b2e9c1b3f3f8f1a2b8c9d6eaf', deskripsi: 'Opor ayam gurih dengan kuah santan lembut, cocok untuk berbuka.'},
      {judul: 'Ayam Goreng Tepung Ala Resto', kategori: 'Ayam Goreng', image: 'https://images.unsplash.com/photo-1604908177521-5a4a9b3a8b3f?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e', deskripsi: 'Ayam renyah ala resto, gurih dan pas untuk keluarga.'},
      {judul: 'Soto Ayam Lamongan', kategori: 'Soto', image: 'https://images.unsplash.com/photo-1551183053-bf91a1d81141?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d', deskripsi: 'Soto bening kaya rempah dengan suwiran ayam lembut.'},
      {judul: 'Ayam Bakar Rica Rica', kategori: 'Bakar', image: 'https://images.unsplash.com/photo-1604908177523-f7b7c9a7b2a8?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f', deskripsi: 'Ayam bakar pedas dengan bumbu rica-rica khas Nusantara.'},
      {judul: 'Nugget Ayam', kategori: 'Olahan', image: 'https://images.unsplash.com/photo-1604908177520-3a2b9c7d6e5f?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a', deskripsi: 'Nugget ayam lembut, pas untuk cemilan anak-anak.'}
    ];

    const track = document.getElementById('track');
    const dotsWrap = document.getElementById('dots');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const randomBtn = document.getElementById('randomBtn');

    let index = 0;
    let timer = null;
    const autoplayDelay = 3800;

    function render(){
      track.innerHTML = '';
      dotsWrap.innerHTML = '';
      cards.forEach((c, i)=>{
        const el = document.createElement('article');
        el.className = 'card' + (i===index? ' center': '');
        el.setAttribute('role','listitem');
        el.innerHTML = `
          <img loading="lazy" src="${c.image}" alt="${c.judul}" />
          <div class="card-content">
            <div class="cat">${c.kategori}</div>
            <h3 class="title">${c.judul}</h3>
            <div class="desc">${c.deskripsi}</div>
            <div class="meta">
              <button class="btn" onclick="openDetail(${i})">Lihat Resep</button>
              <button class="ghost" onclick="share(${i})">Share</button>
            </div>
          </div>`;
        track.appendChild(el);

        const dot = document.createElement('button');
        dot.className = 'dot' + (i===index? ' active':'');
        dot.setAttribute('aria-label', 'Slide ' + (i+1));
        dot.addEventListener('click', ()=>{ goTo(i); });
        dotsWrap.appendChild(dot);
      });

      layoutTrack();
    }

    function layoutTrack(){
      // center cards layout: show three cards centered when possible
      const cardWidth = track.querySelector('.card')?.offsetWidth || 320;
      const gap = 18;
      const visible = Math.floor((document.querySelector('.slider').offsetWidth)/(cardWidth+gap));
      const centerOffset = (document.querySelector('.slider').offsetWidth - cardWidth)/2;

      const x = -(index*(cardWidth+gap)) + centerOffset - 12; // fine tune
      track.style.transform = `translateX(${x}px)`;

      // update center class
      track.querySelectorAll('.card').forEach((el,i)=>{
        el.classList.toggle('center', i===index);
      });

      // update dots
      document.querySelectorAll('.dot').forEach((d,i)=> d.classList.toggle('active', i===index));
    }

    function prev(){ index = (index-1+cards.length)%cards.length; render(); }
    function next(){ index = (index+1)%cards.length; render(); }
    function goTo(i){ index = i; render(); }

    prevBtn.addEventListener('click', ()=>{ stopAuto(); prev(); });
    nextBtn.addEventListener('click', ()=>{ stopAuto(); next(); });

    function startAuto(){
      if(timer) return;
      timer = setInterval(()=>{ next(); }, autoplayDelay);
      pauseBtn.innerText = 'Pause';
      pauseBtn.setAttribute('aria-pressed','false');
    }
    function stopAuto(){
      if(timer){ clearInterval(timer); timer = null; pauseBtn.innerText = 'Resume'; pauseBtn.setAttribute('aria-pressed','true'); }
    }

    pauseBtn.addEventListener('click', ()=>{
      if(timer) stopAuto(); else startAuto();
    });

    randomBtn.addEventListener('click', ()=>{ stopAuto(); index = Math.floor(Math.random()*cards.length); render(); });

    // simple touch support
    let startX = null;
    track.addEventListener('touchstart', (e)=>{ startX = e.touches[0].clientX; stopAuto(); });
    track.addEventListener('touchend', (e)=>{
      if(startX === null) return;
      const endX = e.changedTouches[0].clientX;
      const diff = endX - startX;
      if(diff > 40) prev();
      else if(diff < -40) next();
      startX = null;
    });

    // keyboard
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowLeft') prev();
      if(e.key === 'ArrowRight') next();
      if(e.key === ' ') { e.preventDefault(); if(timer) stopAuto(); else startAuto(); }
    });

    // helpers
    function openDetail(i){ alert('Buka detail: ' + cards[i].judul); }
    function share(i){ navigator.share?.({title: cards[i].judul, text: cards[i].deskripsi}) || alert('Share: ' + cards[i].judul); }

    // responsive relayout
    window.addEventListener('resize', layoutTrack);

    // init
    render();
    startAuto();
  </script>
</body>
</html>